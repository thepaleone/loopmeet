<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="LoopMeet.App.Features.Invitations.Views.InvitationDetailPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    Title="Invitation Details"
    Shell.PresentationMode="ModalNotAnimated"
    BackgroundColor="#80000000">

<Border
    BackgroundColor="Transparent"
    >
    <Border.GestureRecognizers>
        <TapGestureRecognizer Command="{Binding CloseCommand}" />
    </Border.GestureRecognizers>

    <VerticalStackLayout 
        VerticalOptions="Center" 
        Padding="30">
        <Border
            x:Name="Card"
            HorizontalOptions="Center"
            MaximumWidthRequest="420"
            Padding="20"
            VerticalOptions="Center"
            Opacity="1"
            Scale="0.96"
            Style="{StaticResource BubbleCardBorderStyle}">
            <Border.StrokeShape>
                <RoundRectangle CornerRadius="18,24,20,26" />
            </Border.StrokeShape>
            <Border.GestureRecognizers>
                <TapGestureRecognizer />
            </Border.GestureRecognizers>
            <VerticalStackLayout Spacing="16">
                <Grid ColumnDefinitions="*,Auto" RowDefinitions="Auto">
                    <Label Text="Pending Invitation" FontSize="22" FontAttributes="Bold" />
                    <Label
                        Grid.Column="1"
                        Text="Ã—"
                        TextColor="#94A3B8"
                        FontSize="28"
                        VerticalOptions="Center">
                        <Label.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding CloseCommand}" />
                        </Label.GestureRecognizers>
                    </Label>
                </Grid>

                <Border
                    Style="{StaticResource BubbleCardCompactBorderStyle}"
                    BackgroundColor="{AppThemeBinding Light={StaticResource Gray100}, Dark={StaticResource Gray900}}"
                    Stroke="{AppThemeBinding Light={StaticResource Gray200}, Dark={StaticResource Gray600}}"
                    Padding="12">
                    <Border.StrokeShape>
                        <RoundRectangle CornerRadius="14,18,16,20" />
                    </Border.StrokeShape>
                    <VerticalStackLayout Spacing="12">
                        <VerticalStackLayout Spacing="6">
                            <Label Text="Group" FontAttributes="Bold" />
                            <Label Text="{Binding GroupName}" />
                        </VerticalStackLayout>

                        <VerticalStackLayout Spacing="6">
                            <Label Text="Owner" FontAttributes="Bold" />
                            <Label Text="{Binding OwnerDisplay}" />
                        </VerticalStackLayout>

                        <VerticalStackLayout Spacing="6">
                            <Label Text="Invited By" FontAttributes="Bold" />
                            <Label Text="{Binding SenderDisplay}" />
                        </VerticalStackLayout>

                        <VerticalStackLayout Spacing="6">
                            <Label Text="Sent" FontAttributes="Bold" />
                            <Label Text="{Binding SentDisplay}" />
                        </VerticalStackLayout>
                    </VerticalStackLayout>
                </Border>

                <Label
                    Text="{Binding ErrorMessage}"
                    TextColor="#DC2626"
                    IsVisible="{Binding ShowError}" />

                <Grid ColumnDefinitions="*,*" ColumnSpacing="12">
                    <Border
                        Style="{StaticResource BubbleCardCompactBorderStyle}"
                        Stroke="{AppThemeBinding Light={StaticResource Gray200}, Dark={StaticResource Gray600}}"
                        BackgroundColor="{AppThemeBinding Light={StaticResource Gray100}, Dark={StaticResource Gray900}}"
                        Padding="12">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="12,14,12,16" />
                        </Border.StrokeShape>
                        <Border.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding AcceptCommand}" />
                        </Border.GestureRecognizers>
                        <HorizontalStackLayout Spacing="8" HorizontalOptions="Center">
                            <Label Text="âœ“" FontSize="16" TextColor="#16A34A" />
                            <Label Text="Accept" FontAttributes="Bold" TextColor="#16A34A" />
                        </HorizontalStackLayout>
                    </Border>
                    <Border
                        Grid.Column="1"
                        Style="{StaticResource BubbleCardCompactBorderStyle}"
                        Stroke="{AppThemeBinding Light={StaticResource Gray200}, Dark={StaticResource Gray600}}"
                        BackgroundColor="{AppThemeBinding Light={StaticResource Gray100}, Dark={StaticResource Gray900}}"
                        Padding="12">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="12,14,12,16" />
                        </Border.StrokeShape>
                        <Border.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding DeclineCommand}" />
                        </Border.GestureRecognizers>
                        <HorizontalStackLayout Spacing="8" HorizontalOptions="Center">
                            <Label Text="ðŸ—‘" FontSize="16" TextColor="#DC2626" />
                            <Label Text="Decline" FontAttributes="Bold" TextColor="#DC2626" />
                        </HorizontalStackLayout>
                    </Border>
                </Grid>
            </VerticalStackLayout>
        </Border>
    </VerticalStackLayout>
</Border>
</ContentPage>
